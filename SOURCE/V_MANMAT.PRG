*DEBE SER LLAMADO DESDE MAIN (V_MUMAIN.PRG)
*IF NOT V_VALACC()
*  RETURN
*ENDIF  

IF TYPE("EMPRESA")="U" OR TYPE("MI_EMPRESA")="U"
  DO V_GETEMP
ENDIF

CLOSE DATA
SET DELE ON
SET TALK OFF
SET EXCLU OFF
SET EXACT OFF

PRES_OK=.T.

CLEAR
PRIMERA=' '

SELECT 1
USE V_MATER ORDER MATER
SET FILTER TO MA_EMPR=EMPRESA

GO BOTT

CLEAR
DEFINE WINDOW  MOD_MAT FROM 0,5 TO 21,75

ON KEY LABEL F10 KEYBOARD CHR(23)
ON KEY LABEL F4  DO ALTA
ON KEY LABEL F8  DO BAJA

@ 22,5 to 24,75 DOUBLE

@ 23,12 SAY '[F4]-ADICIONA REGISTRO  [F8]-BORRA REGISTRO  [F10]-SALIR' COLOR GR+/B

DO WHILE LASTKEY()<>23

  BROW FIELDS MA_EMPR:H='EMP.':R, MA_MATER:H='COD. MATERIAL',MA_DESCR:H='DESCRIPCION', ;
              MA_UNIDAD:H='UNI.', MA_PRECIO:H='PRECIO Bs' ; 
              NODELETE WINDOW MOD_MAT TITLE 'TABLA DE MATERIALES' color scheme 10
ENDDO

CLOSE DATA
RELEASE WINDOW MOD_MAT
CLEAR
RETURN     

PROCEDURE ALTA
**************
APPEND BLANK
REPLACE MA_EMPR WITH EMPRESA
KEYBOARD '{ESC}'
RETURN

PROCEDURE BAJA
**************
DELETE NEXT 1
KEYBOARD '{ESC}'
RETURN