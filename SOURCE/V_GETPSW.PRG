FUNCTION V_GETPSW
*****************
PARAMETER ANCHO, FILA, COLUMNA

PASS=SPACE(ANCHO)

ST=''

@ FILA,COLUMNA SAY REPLICATE("°",ANCHO)
@ FILA,COLUMNA SAY ""

J=0
N=1
DO WHILE N<=ANCHO
   INP=CHR(INKEY(0, 'S'))
   IF LASTKEY()<>13 AND LASTKEY()<>27
     IF (LASTKEY()>32 AND LASTKEY()<58) OR  (LASTKEY()>64 AND LASTKEY()<91) ;
           OR (LASTKEY()>96 AND LASTKEY()<122)
        ST=ST+INP
     ELSE
        WAIT "TECLA O SIMBOLO ERRONEO...[ENTER] PARA REINICIAR" WINDOW 
        @ FILA,COLUMNA SAY REPLICATE("°",ANCHO)
        @ FILA,COLUMNA SAY ""
        ST=''
        N=1
        J=0
        LOOP
     ENDIF
   ELSE
     EXIT
   ENDIF
   @ FILA,COLUMNA+J SAY "*"
   J=N
   N=N+1
ENDDO

IF LEN(ST)>0
  ST=v_encryp(ST,'E')
ENDIF

RETURN ST

